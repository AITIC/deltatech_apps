<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		<report string="Invoice price Currency" id="action_report_invoice_1" 
		model="account.invoice" report_type="qweb-pdf" 
		name="deltatech_invoice.report_invoice_1"
			file="deltatech_invoice.report_invoice_1" />

		<report string="Invoice company currency" id="action_report_invoice_2" 
		model="account.invoice" report_type="qweb-pdf"
		 name="deltatech_invoice.report_invoice_2"
			file="deltatech_invoice.report_invoice_2" />



		<template id="report_invoice_1">
			<t t-call="report.html_container">
				<t t-foreach="doc_ids" t-as="doc_id">
					<t t-raw="translate_doc(doc_id, doc_model, 'partner_id.lang', 'deltatech_invoice.report_invoice_document1')" />
				</t>
			</t>
			<t t-if="False">
					<t t-call="deltatech_invoice.report_invoice_document1"/>
			</t>
		</template>

		<template id="report_invoice_2">
			<t t-call="report.html_container">
				<t t-foreach="doc_ids" t-as="doc_id">
					<t t-raw="translate_doc(doc_id, doc_model, 'company_id.partner_id.lang', 'deltatech_invoice.report_invoice_document2')" />
				</t>
			</t>
			<t t-if="False">
					<t t-call="deltatech_invoice.report_invoice_document2"/>
			</t>
		</template>

		<!--  afisare in moneda in care este pretul EUR-->
		<template id="report_invoice_document1">
			<t t-set="currency_id" t-value="o.price_currency_id" />		 
			<t t-call="account.report_invoice_document" />
		</template>

	    <!--  afisare in moneda de baza RON -->
		<template id="report_invoice_document2">
			<t t-set="currency_id" t-value="o.company_id.currency_id" />		 
			<t t-call="account.report_invoice_document" />
		</template>

		<template id="invoice_layout" inherit_id="l10n_ro_invoice_report.invoice_layout">
			<xpath expr="//t[@t-call='l10n_ro_invoice_report.header_invoice']" position="replace">
			  <!-- <t t-if="currency_id == o.price_currency_id"> -->
			  <t t-if="currency_id == o.currency_id">
				  <t t-call="deltatech_invoice.header_invoice1"/>		
			  </t>
			  <!-- <t t-if="currency_id != o.price_currency_id"> -->
			  <t t-if="currency_id != o.currency_id">
				  <t t-call="deltatech_invoice.header_invoice2"/>		
			  </t>
			</xpath>
		</template>

		<template id="header_invoice1"> 
			<!--  aici se poate dezvolta un alt antet -->
			<xpath expr="//div[@class='header']" position="replace">
				<div class="header">
					<table class="table table-condensed" style="border-top: initial;">
						<tr>
							<td style="width:50%">
								<div>
              						<strong t-if="o.type in ['out_invoice', 'out_refund']">SELLER:</strong>
              					</div>
              					<strong t-field="res_company.partner_id.name"/>
              					<div>
              						(<span t-field="res_company.state_id.code"/>)
              						<span t-field="res_company.country_id"/>
              					</div>
              					<div t-if="res_company.partner_id.vat">
              						<strong>C.U.I. :</strong>
              						<span t-field="res_company.partner_id.vat"/>
            					</div>
            					<small>
					            	<div t-foreach="res_company.partner_id.bank_ids" t-as="bank">
					                	<div t-if="bank.footer">
					                  		<span t-if="bank.bank_name">
					                    		<strong>Bank:</strong>
					                    		<span t-field="bank.bank_name"/>
					                  		</span>
					                	</div>
					                	<br/>
					                	<div t-if="bank.footer">
					                  		<span t-if="bank.acc_number">
					                    		<strong>Account:</strong>
					                    		<span t-field="bank.acc_number"/>
					                  		</span>
					                	</div>
					           		</div>
					           </small>
							</td>
						</tr>
					</table>
				</div>
			</xpath>
			<!-- <t t-call="l10n_ro_invoice_report.header_invoice"/> -->
		</template>


		<template id="header_invoice2"> 
			<!--  aici se poate dezvolta un alt antet -->
			<t t-call="l10n_ro_invoice_report.header_invoice"/>
		</template>

	<!-- 
		<template id="l10n_ro_report_invoice_document" inherit_id="l10n_ro_invoice_report.l10n_ro_report_invoice_document">
 
			
			<xpath expr="//span[@id='price_unit_without_taxes']" position="before">
 				<t t-set="price_unit_without_taxes" t-value="o.currency_id.with_context(date=o.date_invoice).compute(price_unit_without_taxes,currency_id)" />
			</xpath>
			<xpath expr="//span[@id='price_subtotal']" position="before">
 				<t t-set="price_subtotal" t-value="o.currency_id.with_context(date=o.date_invoice).compute(price_subtotal,currency_id)" />
			</xpath>
			<xpath expr="//span[@id='price_taxes']" position="before">
 				<t t-set="price_taxes" t-value="o.currency_id.with_context(date=o.date_invoice).compute(price_taxes,currency_id)" />
			</xpath>
			
			<xpath expr="//span[@id='amount_untaxeds']" position="before">
 				<t t-set="amount_untaxeds" t-value="o.currency_id.with_context(date=o.date_invoice).compute(amount_untaxeds,currency_id)" />
			</xpath>

			<xpath expr="//span[@id='amount_tax']" position="before">
 				<t t-set="amount_tax" t-value="o.currency_id.with_context(date=o.date_invoice).compute(amount_tax,currency_id)" />
			</xpath>


			<xpath expr="//span[@id='amount_tax']" position="before">
 				<t t-set="amount_tax" t-value="o.currency_id.with_context(date=o.date_invoice).compute(amount_tax,currency_id)" />
			</xpath>
			
		</template>
	
	 -->




	</data>
</openerp>